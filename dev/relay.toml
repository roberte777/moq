# A simple configuration for a local relay server.
# This is used for local development and has authentication disabled.

[log]
# Enable debug logging for development.
# The RUST_LOG environment variable will take precedence.
level = "debug"

[server]
# Listen for QUIC connections on UDP:4443
listen = "0.0.0.0:4443"

# Generate a self-signed certificate for the given hostnames.
# This is used for local development, in conjunction with a fingerprint, or with TLS verification disabled.
tls.generate = ["localhost"]

[web.http]
# Listen for HTTP and WebSocket connections on the given TCP address.
# This is unfortunately required to serve certificate.sha256 for local development.
# However, as a bonus, we can serve tracks via both HTTP and WebSocket fallbacks.
listen = "0.0.0.0:4443"

# See root.toml and leaf.toml for auth and clustering examples.
[auth]
# Allow anonymous access to everything.
public = ""

[iroh]
# You can optionally enable iroh support for P2P connections.
# Clients can connect using --iroh-enabled and a `iroh://` URL.
enabled = false

# Path to persist the iroh secret key.
# If the file does not exist, a random key will be generated and written to the path.
# This gives the relay a persistent iroh endpoint id. The secret key can alternatively be set
# via MOQ_IROH_SECRET environment variable.
secret = "./dev/relay-iroh-secret.key"
